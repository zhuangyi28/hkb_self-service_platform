<!-- /nav -->
<nav class="basic_platform_nav">

    <!-- /标题-->
    <span class="nav_hkb_title"><img src="../../icon/nav_hkb_logo.png">汇卡宝商户自助服务平台</span>

    <div class="nav_hkb_operation">

        <span class="hkb_user"><img src="../../icon/nav_hkb_personal.png">庄中煲</span>

        <!-- 下拉窗口-->
        <div class="hkb_user_list" id="userList">
            <div class="title">账户信息</div>

            <div class="user_details">
                <p><span>职位：</span>门店店长</p>
                <p><span>账号：</span>977979797979797</p>
            </div>

            <div class="user_operation">
                <a href="javascript:;">修改密码</a>
                <a href="javascript:;">详情</a>
            </div>
        </div>


        <span class="hkb_home"><img src="../../icon/nav_hkb_logout.png">退出</span>

    </div>
</nav>

<script>



navUserDrop();

function navUserDrop() {


    var clickEle = document.getElementsByClassName('hkb_user')[0];

    var thisEle = document.getElementById('userList');

    var hrefBtn = document.getElementsByClassName('user_operation')[0].getElementsByTagName('a')


    clickEle.addEventListener('click',function () {


        if(thisEle.className.indexOf('show') > -1){


               transitionMove(thisEle)

                thisEle.className = thisEle.className.replace(' show','');


        }

        else {


            thisEle.style.display = 'block';

            setTimeout(function () {

                thisEle.className += ' show';

            },1)



        }

        function transitionMove(ele) {

            // Safari 3.1 到 6.0 代码
            ele.addEventListener("webkitTransitionEnd", MFunction);
            // 标准语法
            ele.addEventListener("transitionend", MFunction);

            function MFunction() {

                ele.style.display = 'none';
                // Safari 3.1 到 6.0 代码
                ele.removeEventListener("webkitTransitionEnd", MFunction);
                // 标准语法
                ele.removeEventListener("transitionend", MFunction);


            }


        }



        addevent();

        function addevent() {

            for (var i=0;i<hrefBtn.length;i++){


                hrefBtn[i].addEventListener('click',function () {


                    event.preventDefault();

                    thisEle.className = thisEle.className.replace(' show', '')


                },false)
            }
        }





    },false)



    }




</script>